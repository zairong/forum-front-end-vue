"use strict";(self["webpackChunkforum_front_end_vue"]=self["webpackChunkforum_front_end_vue"]||[]).push([[151],{6151:function(t,e,r){r.r(e),r.d(e,{default:function(){return d}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container py-5"},[e("div",[e("h1",[t._v(t._s(t.restaurant.name)+" ")]),e("span",{staticClass:"badge badge-secondary mt-1 mb-3"},[t._v(" "+t._s(t.restaurant.categoryName)+" ")])]),e("hr"),e("ul",[t.restaurant.Comments?e("li",[t._v("評論數："+t._s(t.restaurant.Comments.length))]):t._e(),e("li",[t._v("瀏覽次數："+t._s(t.restaurant.viewCounts))])]),e("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:function(e){return t.$router.back()}}},[t._v(" 回上一頁 ")])])},n=[],s=r(4818),u={name:"RestaurantDashboard",data(){return{restaurant:{}}},data(){return{restaurant:{}}},created(){const{id:t}=this.$route.params;this.fetchRestaurant(t)},beforeRouteUpdate(t,e,r){const{id:a}=t.params;this.fetchRestaurant(a),r()},methods:{async fetchRestaurant(t){try{const{data:e}=await(0,s.wF)({restaurantId:t}),{restaurant:r,isFavorited:a,isLiked:n}=e,{id:u,name:o,Category:i,image:c,opening_hours:d,tel:l,address:m,description:f,Comments:h,viewCounts:g}=r;this.restaurant={id:u,name:o,categoryName:i?i.name:"未分類",image:c,openingHours:d,tel:l,address:m,description:f,isFavorited:a,isLiked:n,Comments:h,viewCounts:g}}catch(e){Toast.fire({icon:"error",title:"無法取得餐廳資料，請稍後再試"})}}}},o=u,i=r(1001),c=(0,i.Z)(o,a,n,!1,null,null,null),d=c.exports},4818:function(t,e,r){r.d(e,{A4:function(){return s},C2:function(){return u},nj:function(){return n},wF:function(){return o}});var a=r(6163);const n=({page:t="",categoryId:e=""})=>{const r=new URLSearchParams({page:t,categoryId:e}).toString();return(0,a.l)({url:`/restaurants?${r}`,method:"get"})},s=()=>(0,a.l)({url:"/restaurants/feeds",method:"get"}),u=()=>(0,a.l)({url:"/restaurants/top",method:"get"}),o=({restaurantId:t})=>a.l.get(`/restaurants/${t}`)}}]);
//# sourceMappingURL=151.977b30fc.js.map