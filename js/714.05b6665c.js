"use strict";(self["webpackChunkforum_front_end_vue"]=self["webpackChunkforum_front_end_vue"]||[]).push([[714],{6714:function(s,t,r){r.r(t),r.d(t,{default:function(){return K}});var e=function(){var s=this,t=s._self._c;return t("main",{attrs:{role:"main"}},[t("div",{staticClass:"album py-5 bg-light"},[t("div",{staticClass:"container"},[t("UserProfileCard",{attrs:{profile:s.profile}}),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4"},[t("UserFollowingsCard",{attrs:{profile:s.profile}}),t("br"),t("UserFollowersCard",{attrs:{profile:s.profile}})],1),t("div",{staticClass:"col-md-8"},[t("UserCommentsCard",{attrs:{profile:s.profile}}),t("br"),t("UserFavoritedRestaurantsCard",{attrs:{profile:s.profile}})],1)])],1)])])},i=[],l=function(){var s=this,t=s._self._c;return t("div",{staticClass:"card mb-3"},[t("div",{staticClass:"row no-gutters"},[t("div",{staticClass:"col-md-4"},[s.profile.image?t("img",{attrs:{src:s.profile.image,width:"300px",height:"300px"}}):s._e()]),t("div",{staticClass:"col-md-8"},[t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[s._v(s._s(s.profile.name))]),t("p",{staticClass:"card-text"},[s._v(" root@example.com ")]),t("ul",{staticClass:"list-unstyled list-inline"},[t("li",[s.profile.Comments?t("strong",[s._v(s._s(s.profile.Comments.length))]):s._e(),s._v(" 已評論餐廳")]),t("li",[s.profile.FavoritedRestaurants?t("strong",[s._v(s._s(s.profile.FavoritedRestaurants.length))]):s._e(),s._v(" 收藏的餐廳 ")]),t("li",[s.profile.Followings?t("strong",[s._v(s._s(s.profile.Followings.length))]):s._e(),s._v(" followings (追蹤者)")]),t("li",[s.profile.Followers?t("strong",[s._v(s._s(s.profile.Followers.length))]):s._e(),s._v(" followers (追隨者)")])]),t("p",[t("router-link",{attrs:{to:{name:"users-id-edit",params:{id:s.profile.id}}}},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:s.currentUser.id!==s.profile.id}},[s._v(" edit ")])])],1)])])])])},a=[],o=r(3822),n={name:"UserProfileCard",props:["profile"],computed:{...(0,o.rn)("user",["currentUser"])},methods:{}},d=n,c=r(1001),u=(0,c.Z)(d,l,a,!1,null,null,null),p=u.exports,f=function(){var s=this,t=s._self._c;return t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[s.profile.Followings?t("strong",[s._v(s._s(s.Followings.length))]):s._e(),s._v(" followings (追蹤者) ")]),t("div",{staticClass:"card-body"},s._l(s.profile.Followings,(function(r){return t("router-link",{key:r.id,attrs:{to:{name:"user",params:{id:r.id}}}},[t("img",{staticClass:"mr-1",attrs:{src:s._f("emptyImage")(r.image),width:"60",height:"60"}})])})),1)])},m=[],_=r(3459),v={name:"UserFollowingsCard",props:["profile"],mixins:[_.L],computed:{Followings(){const{Followings:s}=this.profile;return s}}},g=v,C=(0,c.Z)(g,f,m,!1,null,null,null),h=C.exports,w=function(){var s=this,t=s._self._c;return t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[s.profile.Followers?t("strong",[s._v(s._s(s.Followers.length))]):s._e(),s._v(" followers (追隨者) ")]),t("div",{staticClass:"card-body"},s._l(s.profile.Followers,(function(r){return t("router-link",{key:r.id,attrs:{to:{name:"user",params:{id:r.id}}}},[t("img",{staticClass:"mr-1",attrs:{src:s._f("emptyImage")(s.following.image),width:"60",height:"60"}})])})),1)])},F=[],U={name:"UserFollowersCard",props:["profile"],mixins:[_.L],computed:{Followers(){const{Followers:s}=this.profile;return s}}},y=U,b=(0,c.Z)(y,w,F,!1,null,null,null),x=b.exports,k=function(){var s=this,t=s._self._c;return t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[s.profile.Comments?t("strong",[s._v(s._s(s.profile.Comments.length)+" ")]):s._e(),s._v(" 已評論餐廳 ")]),t("div",{staticClass:"card-body"},s._l(s.profile.Comments,(function(r){return t("router-link",{key:r.id,attrs:{to:{name:"restaurant",params:{id:r.RestaurantId}}}},[t("img",{staticClass:"avatar",attrs:{src:s._f("emptyImage")(r.Restaurant.image),width:"60",height:"60"}})])})),1)])},I=[],R={name:"UserCommentsCard",props:["profile"],mixins:[_.L]},Z=R,L=(0,c.Z)(Z,k,I,!1,null,null,null),P=L.exports,$=function(){var s=this,t=s._self._c;return t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[s.profile.FavoritedRestaurants?t("strong",[s._v(s._s(s.profile.FavoritedRestaurants.length)+" ")]):s._e(),s._v(" 收藏餐廳 ")]),t("div",{staticClass:"card-body"},s._l(s.profile.FavoritedRestaurants,(function(r){return t("router-link",{key:r.id,attrs:{to:{name:"restaurant",params:{id:r.id}}}},[t("img",{staticClass:"avatar",attrs:{src:s._f("emptyImage")(r.image),width:"60",height:"60"}})])})),1)])},j=[],q={name:"UserFavoritedRestaurantsCard",props:["profile"],mixins:[_.L]},z=q,A=(0,c.Z)(z,$,j,!1,null,null,null),B=A.exports,D=r(8390),E=r(6163),G={name:"User",components:{UserProfileCard:p,UserFollowingsCard:h,UserFollowersCard:x,UserCommentsCard:P,UserFavoritedRestaurantsCard:B},data(){return{profile:{},isFollowed:!1}},created(){const{id:s}=this.$route.params;this.getUserInfo({userId:s})},methods:{async getUserInfo({userId:s}){try{const t=await(0,D.r)({userId:s});console.log(t.data);const{profile:r,isFollowed:e}=t.data;this.profile=r,this.isFollowed=e}catch(t){E.F.fire({icon:"error",title:"無法取得使用者資料，請稍後再試"})}}},beforeRouteUpdate(s,t,r){const{id:e}=s.params;this.getUserInfo({userId:e}),r()}},H=G,J=(0,c.Z)(H,e,i,!1,null,null,null),K=J.exports}}]);
//# sourceMappingURL=714.05b6665c.js.map