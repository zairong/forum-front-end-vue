"use strict";(self["webpackChunkforum_front_end_vue"]=self["webpackChunkforum_front_end_vue"]||[]).push([[264],{4264:function(t,s,a){a.r(s),a.d(s,{default:function(){return p}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"container py-5"},[s("form",{staticClass:"w-100",on:{submit:function(s){return s.preventDefault(),s.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[t._m(0),s("div",{staticClass:"form-label-group mb-2"},[s("label",{attrs:{for:"email"}},[t._v("email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{id:"email",name:"email",type:"email",placeholder:"email",autocomplete:"username",autofocus:""},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value)}}})]),s("div",{staticClass:"form-label-group mb-3"},[s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password",placeholder:"Password",autocomplete:"current-password"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})]),s("button",{staticClass:"btn btn-lg btn-primary btn-block mb-3",attrs:{type:"submit",disabled:t.isProcessing}},[t._v(" Submit ")]),s("div",{staticClass:"text-center mb-3"},[s("p",[s("router-link",{attrs:{to:"/signup"}},[t._v(" Sign Up ")])],1)]),s("p",{staticClass:"mt-5 mb-3 text-muted text-center"},[t._v(" © 2022-2023 ")])])])},r=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"text-center mb-4"},[s("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v(" Sign In ")])])}],i=(a(7658),a(7214)),o=a(6163),n={data(){return{email:"",password:"",isProcessing:!1}},methods:{async handleSubmit(){try{if(!this.email||!this.password)return void o.F.fire({icon:"warning",title:"請填入 email 和 password"});this.isProcessing=!0;const t=await i.Z.signIn({email:this.email,password:this.password});this.isProcessing=!1;const{data:s}=t;if("error"===s.status)throw new Error(s.message);localStorage.setItem("token",s.token),this.$router.push("/restaurants")}catch(t){this.isProcessing=!1,this.password="",o.F.fire({icon:"warning",title:"請確認您輸入了正確的帳號密碼"})}}}},l=n,u=a(1001),m=(0,u.Z)(l,e,r,!1,null,null,null),p=m.exports},7214:function(t,s,a){var e=a(6163);s["Z"]={signIn({email:t,password:s}){return e.l.post("/signin",{email:t,password:s})},signUp(t){return e.l.post("/signup",t)}}}}]);
//# sourceMappingURL=264.80dddb2f.js.map